
{% load static tailwind_tags %}

{% tailwind_css %}

{% load static %}

{% block content %}


<div id="drawerNavigation"
    class="sidebar fixed top-[105px] left-0 h-[600px] w-64 bg-gray-700 text-white p-4 hidden -translate-x-full transition-transform duration-300 ease-in z-20 rounded-md opacity-95">
    
        <h5 id="drawer-navigation-label" class="text-base font-semibold text-gray-900 rounded-lg dark:text-white">FILTERS
        </h5>
        
        <button type="button" data-drawer-hide="drawer-navigation" aria-controls="drawer-navigation"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 end-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
            <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                    clip-rule="evenodd"></path>
            </svg>
            <span class="sr-only">Close menu</span>
        </button>
<form method="GET" action="{% url 'filter' %}">
        <div class="xfilter-container py-4 overflow-y-auto">
            <ul class="filter_status xbox space-y-2 font-medium">
                <h6
                    class="flex items-center text-xs font-semibold text-gray-500 uppercase dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 group">
                    STATUS
                </h6>
                
                <select class="flex items-center whitespace-nowrap rounded bg-neutral-50 px-[70px] pb-2 pt-2.5 text-xs font-medium uppercase  text-neutral-800 transition duration-150 ease-in-out hover:bg-neutral-100 hover:shadow-[0_8px_9px_-4px_rgba(251,251,251,0.3),0_4px_18px_0_rgba(251,251,251,0.2)] focus:bg-neutral-100  motion-reduce:transition-none">
                    <option value="option1">Completed</option>
                    <option value="option2">Incomplete</option>
                </select>
            </ul>
        
        
            <div class="yfilter-container">
                <div class="filter_school xbox">
                    <div class="scrollable-container">
                    <ul class="space-y-2 font-medium my-4">
                        <h6
                            class="flex items-center text-xs font-semibold text-gray-500 uppercase dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 group">
                            SCHOOLS
                        </h6>
                        
                            {% for school in schools %}
                            <li class="ml-4">
                                <div class="inputted flex items-center text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group text-xs">
                                <input type="checkbox" id="school-{{ school.id }}" class="school-checkbox" name="schools" value="{{ school.id }}">
                                    <p class="mb-2 mx-2">{{ school.school }}</p>
                                </div>
                            </li>
                            {% empty %}
                            <li>
                                No School Found
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        
            <div class="zfilter-container">
                <div class="filter_course xbox">
                    <ul class="space-y-2 font-medium my-4">
                    <h6
                        class="flex items-center text-xs font-semibold text-gray-500 uppercase dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        COURSES
                    </h6>
                    <div class="scrollable-container">
                            {% for course in courses %}
                            <li class="ml-4">
                                <div class="inputted flex items-center text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group text-xs">
                                    <input type="checkbox" class="mb-2 course-checkbox" id="course-{{ course.id }}" name="courses" value="{{ course.id }}">
                                    <p class="mb-2 mx-2">{{ course.acronym }}</p>
                                </div>
                            </li>
                            {% empty %}
                            <li>
                                No Course Found
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
            <input type="submit" value="Filter" class="bg-white text-black py-2 px-4 border border-black cursor-pointer">

            <a href="{% url 'inb_applicant_list' %}"
                class="inline-block bg-white text-black py-2 px-4 border border-black cursor-pointer">Clear Filters</a>
        </form>
    </div>
</div>


<script>
    // When the page loads
    document.addEventListener('DOMContentLoaded', (event) => {
        // Get all checkboxes
        const checkboxes = document.querySelectorAll('.school-checkbox, .course-checkbox');

        // For each checkbox
        checkboxes.forEach((checkbox) => {
            // Get the saved value from local storage
            const checked = localStorage.getItem(checkbox.id);

            // If there was a saved value
            if (checked !== null) {
                // Set the checkbox to the saved value
                checkbox.checked = checked === 'true';
            }

            // When the checkbox is clicked
            checkbox.addEventListener('change', (event) => {
                // Save the new value to local storage
                localStorage.setItem(checkbox.id, checkbox.checked);
            });
        });

        // Get the "Clear Filters" button
        const clearFiltersButton = document.getElementById('clear-filters');

        // When the "Clear Filters" button is clicked
        clearFiltersButton.addEventListener('click', (event) => {
            // For each checkbox
            checkboxes.forEach((checkbox) => {
                // Uncheck the checkbox
                checkbox.checked = false;

                // Remove the saved value from local storage
                localStorage.removeItem(checkbox.id);
            });

            // Submit the form
            event.target.form.submit();
        });
    });
</script>
{% endblock %}