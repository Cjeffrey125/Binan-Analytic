{% load widget_tweaks %}
{% load static tailwind_tags %}
{% tailwind_css %}

{% block content %}
  {% if user.is_authenticated %}
    <div class="flex justify-between mx-4 mt-4 flex-wrap">
      {% for school_info in schools_with_courses %}
        <div class="bg-gray-800 mt-12 ml-24 mr-24 rounded overflow-y-auto flex flex-col items-left mb-4" style="width: 700px; height: 420px;">
          <div class="font-bold text-2xl ml-4 mt-5" style="color: #39B8FF;">{{ school_info.school }}</div>

          <ul class="text-white mt-8">
            {% for course_data in school_info.courses %}
              <li class="ml-8">{{ course_data.course }} </li>

              <div class="mt-2">
                <div class="ml-16 w-500px rounded-full h-2.5" style="width: 550px; background-color: rgba(54, 162, 235, 0.2);">
                  <div class="h-2 rounded-full" style="width: {{ course_data.student_count }}%; background-color: rgb(54, 162, 235);"></div>
                </div>

                <div class="font-bold text-xs flex flex-col items-end mr-24">
                  {{ course_data.student_count }}
                </div>
              </div>
            {% endfor %}
          </ul>
        </div>

        {% if forloop.counter|divisibleby:2 %}
          <div class="w-full"></div>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
